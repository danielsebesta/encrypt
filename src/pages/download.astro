---
import Layout from '../layouts/Layout.astro';
import EncryptTunnelDownloadView from '../components/tools/EncryptTunnelDownload.svelte';
import { getTranslations, t, type Locale } from '../lib/i18n';

const locale = (Astro.currentLocale ?? 'en') as Locale;
const dict = getTranslations(locale);
---

<Layout 
  title="Decrypt & Download â€” Encrypt & Tunnel"
  description="Use your magic link to fetch ciphertext via the encrypt.click tunnel and decrypt the file locally in your browser."
>
  <div class="max-w-3xl mx-auto px-5 py-12 md:py-20 text-center">
    <div class="mb-10">
      <h1 class="text-3xl md:text-4xl font-bold tracking-tight mb-4">
        Decrypt &amp; <span class="text-emerald-500">Download.</span>
      </h1>
      <p class="text-zinc-500 dark:text-zinc-400 text-sm md:text-base leading-relaxed">
        This page takes the magic link payload from the URL hash, pulls the encrypted file through the Buzzheavier tunnel, and decrypts it locally with your password.
      </p>
    </div>
    <EncryptTunnelDownloadView client:load />
  </div>
</Layout>

